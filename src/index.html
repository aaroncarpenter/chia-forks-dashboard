<!DOCTYPE html>
<html>
   <head>
      <meta charset = "UTF-8">
      <title>ForkBoard</title>
      <link rel = "stylesheet" href = "../bower_components/bootstrap/dist/css/bootstrap.min.css" />
      <link rel = "stylesheet" href = "./css/forkboard.css" />

      <script src="https://kit.fontawesome.com/80792d13b7.js" crossorigin="anonymous"></script>
   </head>
   
   <body>
      <div class = "container-fluid">
         <p></p>
         <div class="d-flex flex-row align-items-center">
            <div class="btn-group btn-group-sm col-md-4" role="group">
               <button type="button" id="show-actual-balance" class="btn btn-primary btn-small"><small>Show Actual Balance</small></button>
               <button type="button" id="show-recoverable-balance" class="btn btn-secondary btn-small"><small>Show Recoverable Balance</small></button>
            </div>
            <div class="d-flex col-md-8 align-items-end flex-column">
               <div>
                  <div id='theme-selector' style="display: none">
                     <i id="show-dark-mode" class="fas fa-sun" data-toggle="tooltip" title="Show Dark Mode"></i>
                     <i id="show-light-mode" class="fas fa-moon" data-toggle="tooltip" title="Show Light Mode"></i>
                  </div>
               </div>
               <div>
                  <div id="sort-order-label" class="d-flex justify-content-end">
                     <small class="text-muted"></small>
                  </div>
               </div>
           </div>
         </div>
         <div id="infoAlertBox" class="alert alert-info" style="display: none" role="alert"></div>
         <div id="warnAlertBox" class="alert alert-warning" style="display: none" role="alert"></div>
         <div id="no-wallets-found" class="alert alert-info" style="display: none" role="alert">
            <small class="text-muted">No wallets found.  Restore a Backup file or Select "Add Wallet" on the File menu to add your first wallet.</small>
         </div>
         <div id="add-wallet" class="alert alert-info" style="display: none" role="alert">
            <form>
               <div class="form-group row d-flex align-items-center">
                  <div class="col-sm-11">
                     <input type = "text" name = "Wallet" value = "" id = "wallet-text-box" placeholder = "You can enter multiple wallets separated by commas.  Click the checkmark to Save." class = "form-control" required >
                  </div>

                  <div class="col-sm-1">
                     <nobr>
                        <i class = "fas fa-check" id = "check-add-wallet"></i>&nbsp;
                        <i class = "fas fa-times" id = "cancel-add-wallet"></i>
                     </nobr>
                  </div>
               </div>
            </form>
         </div>
         <div id="set-launcher" class="alert alert-info" style="display: none" role="alert">
            <form>
               <div class="form-group row d-flex align-items-center">
                  <div class="col-sm-11">
                     <input type = "text" name = "Launcher" value = "" id = "Launcher" placeholder = "Enter LauncherId to view Recoverable Balances.  Click the checkmark to Save." class = "form-control" required>
                  </div>

                  <div class="col-sm-1">
                     <nobr>
                        <i class = "fas fa-check" id = "add-launcher"></i>&nbsp;
                        <i class = "fas fa-times" id = "cancel-add-launcher"></i>
                     </nobr>
                  </div>
               </div>
            </form>
         </div>
         
         <div id="nft-recovery" class="alert alert-info" style="display: none" role="alert">
            <button class = "btn btn-primary" id = "open-nft-recovery">Open NFT Recovery Site</button> <small class="text-muted">Your launcherid will be added to the clipboard to paste into the recovery site.</small>
         </div>
         <p />
         <div id="wallet-cards" class="d-flex row justify-content-center" style="vertical-align:bottom"></div>
         <div id="pageLoadingSpinner" class="d-flex column justify-content-center align-items-end" style="height: 450px; vertical-align:bottom;">
            <div class="spinner-border" role="status" style="width: 4rem; height: 4rem;"> </div>
         </div>
         <div id="refreshDiv" style="display: none;" class="d-flex align-items-end flex-column">
            <div>
               <div class="form-check form-switch">
                  <input class="form-check-input" type="checkbox" id="autoRefreshCheck" onclick="autoRefreshHandler();" title="Every 5 mins" />
                  <label class="form-check-label" for="flexSwitchCheckDefault" title="Every 5 mins"><small class="text-muted">Auto-Refresh</small></label>
               </div>
            </div>
            <div>
               <div id="lastRefreshDate" class="d-flex justify-content-end">
                  <small class="text-muted font-italic font-weight-light"></small>
               </div>
            </div>
        </div>
      </div>   
      <script src = "./view.js" ></script>
      <script type = "text/javascript">
         const {remote} = require('electron')
         const {Menu, MenuItem} = remote

         const menu = new Menu()

         // Build menu one item at a time, unlike
         menu.append(new MenuItem ({
            label: 'Paste',
            click() { 
               pasteWalletAddress();
            }
         }))

         // Prevent default action of right click in chromium. Replace with our menu.
         window.addEventListener('contextmenu', (e) => {
            e.preventDefault()
            if (e.target.id === 'wallet-text-box') {
               menu.popup(remote.getCurrentWindow())
            }
         }, false)
      </script>
      
   </body>
</html>